<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="SuH9?ucS8}jKLxsCBI#7">outString</variable><variable id="YPQpCiO/w+Er?5*ND?r[">serialString</variable></variables><block type="pxt-on-start" id="qTzHUMlU,iHf[VUul^zD" x="0" y="0"><statement name="HANDLER"><block type="radio_set_group" id="]5DMU1)G=m~feFI?t/.)"><value name="ID"><shadow type="math_number_minmax" id="~4XNnxHyIix,6Ek?IN1="><mutation min="0" max="255" label="Number" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><next><block type="radio_set_transmit_power" id="duYZTHCtRYi2d!UAK9b,"><value name="power"><shadow type="math_number_minmax" id="U)Do!)JGoP~Bf8o%oL)j"><mutation min="0" max="7" label="Number" precision="0"></mutation><field name="SLIDER">7</field></shadow></value><next><block type="variables_set" id="Qh%!OEiGWv@/?Tl-96mA"><field name="VAR" id="SuH9?ucS8}jKLxsCBI#7">outString</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="REb8Y}YWw:Qld=N8FE!u"><field name="TEXT"></field></block></value></block></next></block></next></block></statement></block><block type="radio_on_string_drag" id="d,^_|esHpOv*y/qEJGf$" x="365" y="0"><value name="HANDLER_DRAG_PARAM_receivedString"><shadow type="argument_reporter_string" id="o=0ftQ`C4T76t3_5+Xry"><field name="VALUE">receivedString</field></shadow></value><statement name="HANDLER"><block type="controls_if" id="$(bx(2JF/c[LRe}0Jht4"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">Send only completed messages (i.e. does not end in comma)</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="nE-4f^Nz:27u;?*9jZC]"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_compare" id="6!X!L?(u2|rW4Y~w8AcN"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="string_get" id="Jbnx)*5uaXEF.%Hm{O,T"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="argument_reporter_string" id="X/`.j:%^wf2?3DyBOyBA"><field name="VALUE">receivedString</field></block></value><value name="pos"><block type="math_arithmetic" id="b`.+@Xl9}()N3u#*9I_W"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_length" id="b=#=r$UzZz,ig[-]Ma)L"><value name="VALUE"><block type="argument_reporter_string" id="e/w*+G:1!LWmYY%s/dq8"><field name="VALUE">receivedString</field></block></value></block></value><value name="B"><shadow type="math_number" id="OCck6XOh`O%w)[5UPBEn"><field name="NUM">1</field></shadow></value></block></value></block></value><value name="that"><shadow type="text" id="l:J1OhFAaZ+38ac!Yo+w"><field name="TEXT">,</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="Cavt0rC%dUo#ll$3O3q^"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="ly%7D*CT33GR,ZJCD3r@"><field name="VAR" id="SuH9?ucS8}jKLxsCBI#7">outString</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_join" id="K8]9Hp*eLxD2/Q/zk.-5"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="y0P./tRu1s8[va`{a@iK"><field name="VAR" id="SuH9?ucS8}jKLxsCBI#7">outString</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="argument_reporter_string" id="g(((E3KO}5Jt[U]z#,sg"><field name="VALUE">receivedString</field></block></value></block></value></block></statement><statement name="ELSE"><block type="variables_set" id="31f745Hme#N5+#D0W7lJ"><field name="VAR" id="SuH9?ucS8}jKLxsCBI#7">outString</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_join" id="^HE*5^x#YCr~9AV5`u{E"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="5wlHmf@~4,i1!iL%|I(O"><field name="VAR" id="SuH9?ucS8}jKLxsCBI#7">outString</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="argument_reporter_string" id="gShFLw^B6|aMxoo?PiDt"><field name="VALUE">receivedString</field></block></value></block></value><next><block type="serial_writeline" id="e*1t09uZOkQa0={en0GU"><value name="text"><block type="variables_get" id="@1VG-Soo^hV!b8jeK`nS"><field name="VAR" id="SuH9?ucS8}jKLxsCBI#7">outString</field></block></value><next><block type="radio_datagram_send_string" id="3n{RD~c;:9,qJdt~B6_@"><comment pinned="true" h="80" w="160">This is used by the sender - it has to receive ack before sending next data</comment><value name="msg"><shadow type="text" id="@_7N^]VDVg:JmO5|H.`c"><field name="TEXT">ak</field></shadow></value><next><block type="variables_set" id="r4~AwG_n{O7XR-GY7$Y^"><field name="VAR" id="SuH9?ucS8}jKLxsCBI#7">outString</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="FZxsQ7*VU]T8k[xp|3+X"><field name="TEXT"></field></block></value></block></next></block></next></block></next></block></statement></block></statement></block><block type="serial_on_data_received" id=",)QR6p-1iGM7:_/UD@lV" x="1" y="602"><value name="delimiters"><shadow type="serial_delimiter_conv" id="NZs5fY-o30cb$-ah*k}e"><field name="del">Delimiters.NewLine</field></shadow></value><statement name="HANDLER"><block type="variables_set" id="VO,,uo#+KF!*WN%+paM9"><field name="VAR" id="YPQpCiO/w+Er?5*ND?r[">serialString</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="serial_read_until" id="dsh|AaQT4A:0]s1A,|!W"><value name="delimiter"><shadow type="serial_delimiter_conv" id="3|J~]@{HeaaIx6H7~CFF"><field name="del">Delimiters.NewLine</field></shadow></value></block></value><next><block type="radio_datagram_send_string" id="qs?+.mNk`MLB$L:1bvh("><value name="msg"><block type="variables_get" id="A6GHwIcpJXI2!vF*.Bu("><field name="VAR" id="YPQpCiO/w+Er?5*ND?r[">serialString</field></block></value></block></next></block></statement></block></xml>